{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/how-i-made-this-website","result":{"data":{"post":{"__typename":"MdxPost","slug":"/how-i-made-this-website","title":"How I Made This Website","date":"August 2, 2020","tags":[{"name":"gatsby","slug":"gatsby"},{"name":"github","slug":"github"}],"description":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How I Made This Website\",\n  \"date\": \"2020-08-02T00:00:00.000Z\",\n  \"tags\": [\"gatsby\", \"github\"],\n  \"slug\": \"how-i-made-this-website\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Hey look I have a fancy new website! \\uD83E\\uDD84\\uD83E\\uDD16\\uD83D\\uDE80\"), mdx(\"p\", null, \"What you're reading right now was built and deployed using:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/\"\n  }), \"Gatsby\"), \" - A static site generator\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://pages.github.com/\"\n  }), \"GitHub Pages\"), \" - Host sites from a git repository\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/features/actions\"\n  }), \"GitHub Actions\"), \" - Automate rebuilding the website whenever changes are pushed to master\")), mdx(\"p\", null, \"There are plenty of resources out there explaining how to set up a website like this, but I figured it'd be nice to gather it into one how-to. I'm sure it'll be \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"real\"), \" helpful when I forget how this all works in a few months \\uD83D\\uDE05.\"), mdx(\"h3\", null, \"Step 1: Initialize a New Gatsby Site\"), mdx(\"p\", null, \"It's super easy to get started with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/\"\n  }), \"Gatsby\"), \". Honestly, the hardest part about it was figuring out a theme or starter to use.\"), mdx(\"p\", null, \"At first I really liked \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/alxshelepenok/gatsby-starter-lumen\"\n  }), \"this one\"), \", but the file structure of it started to rub me the wrong way. There's a lot code in there, how do I update it if the starter gets updated? Do I fork it? Am I going to have deal with merge conflicts?\"), mdx(\"p\", null, \"I switched to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog\"\n  }), \"this theme\"), \". It's nice and simple. The only things in my repo are content (if I had any) and site settings. Getting updates from upstream is just a matter of updating the npm package:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\",\n    \"metastring\": \"noLineNumbers\",\n    \"noLineNumbers\": true\n  }), \"  \\\"dependencies\\\": {\\n    \\\"@lekoarts/gatsby-theme-minimal-blog\\\": \\\"^2.4.0\\\",\\n\")), mdx(\"h3\", null, \"Step 2: Create a Repository on GitHub\"), mdx(\"p\", null, \"Create a new repository on GitHub and push your new gatsby site to it. If you want GitHub Pages to host your website at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<your-username>.github.io\"), \", you \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"must\"), \" name the repo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<your-username>.github.io\"), \". For example, the repo for this website is named \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/mattbun/mattbun.github.io\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"mattbun.github.io\")), \".\"), mdx(\"h3\", null, \"Step 3: Set Up GitHub Actions\"), mdx(\"p\", null, \"So now the code is on GitHub. But wait, doesn't this repo \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"only\"), \" have markdown? How do we compile it and get it deployed?\"), mdx(\"p\", null, \"That's where GitHub Actions comes in. We'll use it to automatically build the site and push the compiled site to a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gh-pages\"), \" branch whenever the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"master\"), \" branch is pushed to.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/marketplace/actions/gatsby-publish\"\n  }), \"Someone already made an action to do this\"), \", so all you need is this in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".github/workflows\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml:title=.github/workflows/publish.yml\"\n  }), \"name: Gatsby Publish\\n\\non:\\n  push:\\n    branches:\\n      - master\\n\\njobs:\\n  build:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v1\\n      - uses: enriikke/gatsby-gh-pages-action@v2\\n        with:\\n          access-token: ${{ secrets.ACCESS_TOKEN }}\\n          deploy-branch: gh-pages\\n\")), mdx(\"p\", null, \"Before you go and push this change, note that it requires a secret named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ACCESS_TOKEN\"), \". It needs that token to push changes to your repo.\"), mdx(\"p\", null, \"You'll need to generate a personal access token with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"repo\"), \" scope. See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\"\n  }), \"here\"), \" for instructions on how to do that. Copy the token, open your repository's settings, go to the \\\"Secrets\\\" tab, and create a new secret named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ACCESS_TOKEN\"), \" with the token you copied.\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"64.99999999999999%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABRElEQVQoz4WSvVbDMAyF+/4DGzsTIxMbCy/QcxjYgKFLncax8+M0si075jqhKYRSdG48OPqsa8kb533bdSmlcUwRXxo7ijvFRW2Lw+FQlkIURDZdig0RyaoyxoQQ5q3BekPsOTnnrLVICCGuMFSBNtY6pbVSqm3bXDglGBFC9H1vTB/jCDsc4kpflXG21hrrUpmZjwMCexYkFGJc6QxXVYV1MpNLd8bUTRNi8J7hHE1B9nzKWVNkuJQSJpf7MAelG6m00nU1aSALq57DSvnOZSnh8zuM1BDHRb+xE0w2d/tnZXf67Tz/RWaYTKd1HZgXGLvk2OLCfI2cbdumacepW0vMp2C87jo8EKHbx2O+M08zeK93D29Pjx/PmtplBJdfGAa6F0JK6b2f87bF68327vblft+X/8AYFzAME32aH92V7FV8AmkE9xC313R5AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Adding GitHub secret\",\n    \"title\": \"Adding GitHub secret\",\n    \"src\": \"/static/64cf4b6d06b130b5f5df335e733bc4c4/7d769/screenshot_secret.png\",\n    \"srcSet\": [\"/static/64cf4b6d06b130b5f5df335e733bc4c4/5243c/screenshot_secret.png 240w\", \"/static/64cf4b6d06b130b5f5df335e733bc4c4/ab158/screenshot_secret.png 480w\", \"/static/64cf4b6d06b130b5f5df335e733bc4c4/7d769/screenshot_secret.png 960w\", \"/static/64cf4b6d06b130b5f5df335e733bc4c4/74f55/screenshot_secret.png 1245w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"With the secret in place, go ahead and push those changes. Go to the \\\"Actions\\\" tab in GitHub and you can watch the build in action. Assuming it completes successfully, you'll find there's a new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gh-pages\"), \" branch with your compiled website (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/mattbun/mattbun.github.io/tree/gh-pages\"\n  }), \"like this\"), \"). We're almost there!\"), mdx(\"h3\", null, \"Step 4: Enable GitHub Pages\"), mdx(\"p\", null, \"Now you just need to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.github.com/en/github/working-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site\"\n  }), \"enable Github Pages\"), \" on this repository. Click the Settings tab and scroll all the way down to the \\\"GitHub Pages\\\" section. Choose your new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gh-pages\"), \" branch and hit save!\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"883px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"17.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAmklEQVQI15VO2w6DIBTj//9wWTanIHC4gzgVVHbM3va2pmnSpG1Kuu4FQd/cc9nX1trZ/gDpBzoweqcPxketjXXOGKO1BlCgFABICWitsV8IKY2xMhQRKnE+xJjyNFuLNZvStG2FMg4K4y5edst5TlNe1rXWWkq5dD+RxIWIMeM8F7KnzHqPz3s6cqkEQEjpOM73suAKdn5ufwCGx+OlcZ+H2QAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Enabling GitHub Pages\",\n    \"title\": \"Enabling GitHub Pages\",\n    \"src\": \"/static/e744dbbca380aea63d54b60b1d442b7c/fb35e/screenshot_pages.png\",\n    \"srcSet\": [\"/static/e744dbbca380aea63d54b60b1d442b7c/5243c/screenshot_pages.png 240w\", \"/static/e744dbbca380aea63d54b60b1d442b7c/ab158/screenshot_pages.png 480w\", \"/static/e744dbbca380aea63d54b60b1d442b7c/fb35e/screenshot_pages.png 883w\"],\n    \"sizes\": \"(max-width: 883px) 100vw, 883px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"h3\", null, \"Step 5: Try it Out!\"), mdx(\"p\", null, \"That should be it! Open up your website at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<username>-github.io\"), \" and it should be up and running! \\uD83C\\uDF89\\uD83D\\uDC83\"), mdx(\"h3\", null, \"Bonus: Using a Custom Domain\"), mdx(\"p\", null, \"In addition to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://mattbun.github.io\"\n  }), \"mattbun.github.io\"), \", I updated my domain \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://rathbun.dev\"\n  }), \"rathbun.dev\"), \" to point to it as well. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain\"\n  }), \"These instructions\"), \" show you how to do it. My domain is registered through Google Domains and my DNS settings there look something like this:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"45.416666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsUlEQVQoz5WRwRKDIAxE+f8/VUHtSECpYp+kwzD2UvfAbNYswY0JMS7Lsq7r2UAkeO9zzvu+e5GUEuK2bXRy1jbD5/S+0JopMeQCCD2Ix3HgpISgX+YQAkXrVINySL0X5zRN8zyP46iiuTmrv5LKY4x93zvnrLX6eHP+Dcxd1zF2GAbN6IEZAzNfBY8n84MaHvgGJiIs4NZnCzSkGp5OdgXfydzxmxmKrqcNDKIr5FTxAxF4Ettt8M6zAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Configuring DNS in Google Domains\",\n    \"title\": \"Configuring DNS in Google Domains\",\n    \"src\": \"/static/ae18c680507372fdd3895a6f6dad37ca/7d769/screenshot_dns.png\",\n    \"srcSet\": [\"/static/ae18c680507372fdd3895a6f6dad37ca/5243c/screenshot_dns.png 240w\", \"/static/ae18c680507372fdd3895a6f6dad37ca/ab158/screenshot_dns.png 480w\", \"/static/ae18c680507372fdd3895a6f6dad37ca/7d769/screenshot_dns.png 960w\", \"/static/ae18c680507372fdd3895a6f6dad37ca/28aea/screenshot_dns.png 990w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", null, \"Be sure to put your domain name in a file named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CNAME\"), \" in the root directory on your master branch. GitHub will try to add it to your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gh-pages\"), \" branch but the Gatsby Publish action will overwrite it. If you put it in master, the action \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/marketplace/actions/gatsby-publish#cname\"\n  }), \"will copy the file over when it deploys\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Hey look I have a fancy new website! 🦄🤖🚀 What you're reading right now was built and deployed using: Gatsby  - A static site generator…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/how-i-made-this-website","formatString":"MMMM D, YYYY"}},"staticQueryHashes":["318001574","3787687951","3787687951"]}